@inherits HookComponentBase
@typeparam TStore

@code {
    private static readonly Reducer<TStore> EmptyReducer = (state, _) => state;

    [Parameter, EditorRequired]
    public Func<Reducer<TStore>, Reducer<TStore>> RootReducer { get; init; } = null!;

    [Parameter, EditorRequired]
    public Func<TStore> InitialStateFactory { get; init; } = null!;

    [Parameter, EditorRequired]
    public RenderFragment ChildContent { get; init; } = null!;
}

@{
    var (state, dispatch) = Hook.UseReducer(RootReducer!(EmptyReducer), InitialStateFactory!());

    <CascadingValue Value=@state>
        <CascadingValue Value=@dispatch>
            @ChildContent
        </CascadingValue>
    </CascadingValue>
}